input:
    job:
        package-manager: gradle
        allowed-updates:
            - update-type: all
        dependencies:
            - com.google.code.gson:gson
        ignore-conditions:
            - dependency-name: com.google.code.gson:gson
              source: tests/result.yaml
              version-requirement: '>2.8.9'
        security-advisories:
            - dependency-name: com.google.code.gson:gson
              affected-versions:
                - < 2.8.9
              patched-versions:
                - 2.8.9
              unaffected-versions: []
        security-updates-only: true
        source:
            provider: github
            repo: dependabot/smoke-tests
            directory: /gradle-lockfile
            commit: 11b12b0d55179610f466dba2c3c1fdc45391e058
    credentials:
        - host: github.com
          password: $LOCAL_GITHUB_ACCESS_TOKEN
          type: git_source
          username: x-access-token
output:
    - type: update_dependency_list
      expect:
        data:
            dependencies:
                - name: com.google.code.gson:gson
                  requirements:
                    - file: app/build.gradle.kts
                      groups: []
                      requirement: 2.8.8
                      source: null
                  version: 2.8.8
                - name: com.google.guava:guava
                  requirements:
                    - file: gradle/libs.versions.toml
                      groups: []
                      metadata:
                        property_name: guava
                      requirement: 33.4.5-jre
                      source: null
                  version: 33.4.5-jre
                - name: org.junit.jupiter:junit-jupiter
                  requirements:
                    - file: gradle/libs.versions.toml
                      groups: []
                      metadata:
                        property_name: junit-jupiter
                      requirement: 5.12.1
                      source: null
                  version: 5.12.1
            dependency_files:
                - /gradle-lockfile/settings.gradle.kts
                - /gradle-lockfile/gradle/libs.versions.toml
                - /gradle-lockfile/app/build.gradle.kts
                - /gradle-lockfile/app/gradle.lockfile
    - type: create_pull_request
      expect:
        data:
            base-commit-sha: bd4220996add9cd62ce14437fd403dd8407aff20
            dependencies:
                - name: com.google.code.gson:gson
                  previous-requirements:
                    - file: app/build.gradle.kts
                      groups: []
                      requirement: 2.8.8
                      source: null
                  previous-version: 2.8.8
                  requirements:
                    - file: app/build.gradle.kts
                      groups: []
                      requirement: 2.8.9
                      source:
                        type: maven_repo
                        url: https://repo.maven.apache.org/maven2
                  version: 2.8.9
                  directory: /gradle-lockfile
            updated-dependency-files:
                - content: |-
                    /*
                     * This file was generated by the Gradle 'init' task.
                     *
                     * This generated file contains a sample Java application project to get you started.
                     * For more details on building Java & JVM projects, please refer to https://docs.gradle.org/8.14/userguide/building_java_projects.html in the Gradle documentation.
                     */

                    plugins {
                        // Apply the application plugin to add support for building a CLI application in Java.
                        application
                    }

                    repositories {
                        // Use Maven Central for resolving dependencies.
                        mavenCentral()
                    }

                    dependencies {
                        // This dependency is used by the application.
                        implementation("com.google.code.gson:gson:2.8.9")
                    }

                    dependencyLocking {
                        lockAllConfigurations()
                    }

                    application {
                        // Define the main class for the application.
                        mainClass = "org.example.App"
                    }

                    tasks.register("resolveAndLockAll") {
                        notCompatibleWithConfigurationCache("Filters configurations at execution time")
                        doFirst {
                            require(gradle.startParameter.isWriteDependencyLocks) { "$path must be run from the command line with the `--write-locks` flag" }
                        }
                        doLast {
                            configurations.filter {
                                // Add any custom filtering on the configurations to be resolved
                                it.isCanBeResolved
                            }.forEach { it.resolve() }
                        }
                    }
                  content_encoding: utf-8
                  deleted: false
                  directory: /gradle-lockfile
                  name: app/build.gradle.kts
                  operation: update
                  support_file: false
                  type: file
                - content: |
                    # This is a Gradle generated file for dependency locking.
                    # Manual edits can break the build and are not advised.
                    # This file is expected to be part of source control.
                    com.google.code.gson:gson:2.8.9=compileClasspath,runtimeClasspath,testCompileClasspath,testRuntimeClasspath
                    empty=annotationProcessor,testAnnotationProcessor
                  content_encoding: utf-8
                  deleted: false
                  directory: /gradle-lockfile
                  name: app/gradle.lockfile
                  operation: update
                  support_file: false
                  type: file
            pr-title: Bump com.google.code.gson:gson from 2.8.8 to 2.8.9 in /gradle-lockfile
            pr-body: |
                Bumps [com.google.code.gson:gson](https://github.com/google/gson) from 2.8.8 to 2.8.9.
                <details>
                <summary>Release notes</summary>
                <p><em>Sourced from <a href="https://github.com/google/gson/releases">com.google.code.gson:gson's releases</a>.</em></p>
                <blockquote>
                <h2>Gson 2.8.9</h2>
                <ul>
                <li>Make OSGi bundle's dependency on <code>sun.misc</code> optional (<a href="https://redirect.github.com/google/gson/issues/1993">#1993</a>).</li>
                <li>Deprecate <code>Gson.excluder()</code> exposing internal <code>Excluder</code> class (<a href="https://redirect.github.com/google/gson/issues/1986">#1986</a>).</li>
                <li>Prevent Java deserialization of internal classes (<a href="https://redirect.github.com/google/gson/issues/1991">#1991</a>).</li>
                <li>Improve number strategy implementation (<a href="https://redirect.github.com/google/gson/issues/1987">#1987</a>).</li>
                <li>Fix LongSerializationPolicy null handling being inconsistent with Gson (<a href="https://redirect.github.com/google/gson/issues/1990">#1990</a>).</li>
                <li>Support arbitrary Number implementation for Object and Number deserialization (<a href="https://redirect.github.com/google/gson/issues/1290">#1290</a>).</li>
                <li>Bump proguard-maven-plugin from 2.4.0 to 2.5.1 (<a href="https://redirect.github.com/google/gson/issues/1980">#1980</a>).</li>
                <li>Don't exclude static local classes (<a href="https://redirect.github.com/google/gson/issues/1969">#1969</a>).</li>
                <li>Fix <code>RuntimeTypeAdapterFactory</code> depending on internal <code>Streams</code> class (<a href="https://redirect.github.com/google/gson/issues/1959">#1959</a>).</li>
                <li>Improve Maven build (<a href="https://redirect.github.com/google/gson/issues/1964">#1964</a>).</li>
                <li>Make dependency on <code>java.sql</code> optional (<a href="https://redirect.github.com/google/gson/issues/1707">#1707</a>).</li>
                </ul>
                </blockquote>
                </details>
                <details>
                <summary>Changelog</summary>
                <p><em>Sourced from <a href="https://github.com/google/gson/blob/main/CHANGELOG.md">com.google.code.gson:gson's changelog</a>.</em></p>
                <blockquote>
                <h2>Version 2.8.9</h2>
                <ul>
                <li>Make OSGi bundle's dependency on <code>sun.misc</code> optional (<a href="https://redirect.github.com/google/gson/pull/1993">google/gson#1993</a>).</li>
                <li>Deprecate <code>Gson.excluder()</code> exposing internal <code>Excluder</code> class (<a href="https://redirect.github.com/google/gson/pull/1986">google/gson#1986</a>).</li>
                <li>Prevent Java deserialization of internal classes (<a href="https://redirect.github.com/google/gson/pull/1991">google/gson#1991</a>).</li>
                <li>Improve number strategy implementation (<a href="https://redirect.github.com/google/gson/pull/1987">google/gson#1987</a>).</li>
                <li>Fix LongSerializationPolicy null handling being inconsistent with Gson (<a href="https://redirect.github.com/google/gson/pull/1990">google/gson#1990</a>).</li>
                <li>Support arbitrary Number implementation for Object and Number deserialization (<a href="https://redirect.github.com/google/gson/pull/1290">google/gson#1290</a>).</li>
                <li>Bump proguard-maven-plugin from 2.4.0 to 2.5.1 (<a href="https://redirect.github.com/google/gson/pull/1980">google/gson#1980</a>).</li>
                <li>Don't exclude static local classes (<a href="https://redirect.github.com/google/gson/pull/1969">google/gson#1969</a>).</li>
                <li>Fix <code>RuntimeTypeAdapterFactory</code> depending on internal <code>Streams</code> class (<a href="https://redirect.github.com/google/gson/pull/1959">google/gson#1959</a>).</li>
                <li>Improve Maven build (<a href="https://redirect.github.com/google/gson/pull/1964">google/gson#1964</a>).</li>
                <li>Make dependency on <code>java.sql</code> optional (<a href="https://redirect.github.com/google/gson/pull/1707">google/gson#1707</a>).</li>
                </ul>
                </blockquote>
                </details>
                <details>
                <summary>Commits</summary>
                <ul>
                <li><a href="https://github.com/google/gson/commit/6a368d89da37917be7714c3072b8378f4120110a"><code>6a368d8</code></a> [maven-release-plugin] prepare release gson-parent-2.8.9</li>
                <li><a href="https://github.com/google/gson/commit/ba96d53bad35f7466073f14cb3d89d09383e1a2d"><code>ba96d53</code></a> Fix missing bounds checks for JsonTreeReader.getPath() (<a href="https://redirect.github.com/google/gson/issues/2001">#2001</a>)</li>
                <li><a href="https://github.com/google/gson/commit/ca1df7f7e09f6b1a763882029dd7057f475b31de"><code>ca1df7f</code></a> <a href="https://redirect.github.com/google/gson/issues/1981">#1981</a>: Optional OSGi bundle's dependency on sun.misc package (<a href="https://redirect.github.com/google/gson/issues/1993">#1993</a>)</li>
                <li><a href="https://github.com/google/gson/commit/c54caf308c3f7d4a6088cf3085c2caa9617e0458"><code>c54caf3</code></a> Deprecate <code>Gson.excluder()</code> exposing internal <code>Excluder</code> class (<a href="https://redirect.github.com/google/gson/issues/1986">#1986</a>)</li>
                <li><a href="https://github.com/google/gson/commit/e6fae590cf2a758c47cd5a17f9bf3780ce62c986"><code>e6fae59</code></a> Prevent Java deserialization of internal classes (<a href="https://redirect.github.com/google/gson/issues/1991">#1991</a>)</li>
                <li><a href="https://github.com/google/gson/commit/bda2e3d16af776e0f607d56bbab6eac22f8f2d58"><code>bda2e3d</code></a> Improve number strategy implementation (<a href="https://redirect.github.com/google/gson/issues/1987">#1987</a>)</li>
                <li><a href="https://github.com/google/gson/commit/cd748df7122ea4260d35dfe90cfab0c079a1504d"><code>cd748df</code></a> Fix LongSerializationPolicy null handling being inconsistent with Gson (<a href="https://redirect.github.com/google/gson/issues/1990">#1990</a>)</li>
                <li><a href="https://github.com/google/gson/commit/fe30b85224316cabf19f5dd3223843437c297802"><code>fe30b85</code></a> Support arbitrary Number implementation for Object and Number deserialization...</li>
                <li><a href="https://github.com/google/gson/commit/1cc16274235f89650349884dd04760bf15a95d96"><code>1cc1627</code></a> Fix incorrect feature request template label (<a href="https://redirect.github.com/google/gson/issues/1982">#1982</a>)</li>
                <li><a href="https://github.com/google/gson/commit/7b9a283a7a5d66878c9be01227b15e631afe2a5a"><code>7b9a283</code></a> Bump bnd-maven-plugin from 5.3.0 to 6.0.0 (<a href="https://redirect.github.com/google/gson/issues/1985">#1985</a>)</li>
                <li>Additional commits viewable in <a href="https://github.com/google/gson/compare/gson-parent-2.8.8...gson-parent-2.8.9">compare view</a></li>
                </ul>
                </details>
                <br />
            commit-message: |-
                Bump com.google.code.gson:gson from 2.8.8 to 2.8.9 in /gradle-lockfile

                Bumps [com.google.code.gson:gson](https://github.com/google/gson) from 2.8.8 to 2.8.9.
                - [Release notes](https://github.com/google/gson/releases)
                - [Changelog](https://github.com/google/gson/blob/main/CHANGELOG.md)
                - [Commits](https://github.com/google/gson/compare/gson-parent-2.8.8...gson-parent-2.8.9)
    - type: mark_as_processed
      expect:
        data:
            base-commit-sha: bd4220996add9cd62ce14437fd403dd8407aff20
